
<style>
   /* Set the size of the div element that contains the map */
  #map {
    height: 400px;  /* The height is 400 pixels */
    width: 100%;  /* The width is the width of the web page */
   }
</style>

<h3>My Google Maps Demo</h3>

<div id="map"></div>
<div id="content">
  <img src="<%= @pic.img_url %>"   style='max-width: 80px' class="popup__img">
  <h1><%= @pic.street_name %></h1>
  <p><%= @ratings %></p>
</div>

<script>
  var map, popup, Popup;

  /** Initializes the map and the custom popup. */
  function initMap() {
    definePopupClass();

    map = new google.maps.Map(document.getElementById('map'), {
      center: {lat: <%= @lat %>, lng: <%= @lng %>},
      zoom: 10,
    });
    
    popup = new Popup(
        new google.maps.LatLng(<%= @lat %>, <%= @lng %>),
        document.getElementById('content'));
    popup.setMap(map);
  }
</script>

<script src="popup.js"></script>

<script> 
  <%= raw @google_map_loader %>
</script>